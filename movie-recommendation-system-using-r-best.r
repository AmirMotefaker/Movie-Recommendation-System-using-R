{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/amirmotefaker/movie-recommendation-system-using-r-best?scriptVersionId=118846542\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown","outputs":[],"execution_count":0},{"cell_type":"markdown","id":"87a86e6f","metadata":{"_execution_state":"idle","_uuid":"051d70d956493feee0c6d64651c6a088724dca2a","papermill":{"duration":0.007567,"end_time":"2023-02-11T10:03:51.945238","exception":false,"start_time":"2023-02-11T10:03:51.937671","status":"completed"},"tags":[]},"source":["# What is Movie Recommendation?\n","- A movie recommendation system, or a movie recommender system, is an ML-based approach to filtering or predicting the users’ film preferences based on their past choices and behavior. It’s an advanced filtration mechanism that predicts the possible movie choices of the concerned user and their preferences towards a domain-specific item, aka movie.\n","\n","# Filtration Strategies for Movie Recommendation Systems\n","- The most popular categories of the ML algorithms used for movie recommendations include content-based filtering and collaborative filtering systems.\n","    - Content-Based Filtering\n","    - Collaborative Filtering\n","        - Collaborative filtering algorithms are divided into two categories:\n","\n","            - User-based collaborative filtering. The idea is to look for similar patterns in movie preferences in the target user and other users in the database.\n","            - Item-based collaborative filtering. The basic concept here is to look for similar items (movies) that target users rate or interact with.\n","\n","\n","# How to Build a Movie Recommendation System?\n","- The basics of film recommendation engines are in machine learning, we could on to building an actual movie recommendation system.\n","    1. Data\n","        - ML systems need data, so find and import the essential libraries with movie datasets that already have global ratings.\n","    2. Analysis \n","        - Create generic recommendations of top-rated movies from the existing dataset.\n","    3. Personalization \n","        - Get personalized ratings by providing your own movie scores.\n","    4. Strategy \n","        - Implement a content-based or collaborative filtering strategy.\n","    5. Combination \n","        - Combine recommendation lists to get a reasonable estimate across the ratings. The combined dataset of movie ratings can now be used for either filtering model.\n","        \n","# Best Movie Datasets for Recommendation Systems in ML\n","- [MovieLens 25M data set](https://grouplens.org/datasets/movielens/)\n","- [IMDB Datasets](https://www.imdb.com/interfaces/)\n","- [Linguistic Data of 32k Film Subtitles with IMBDb Meta-Data](https://data.world/robertjoellewis/film-subtitles)\n","- [Film data set from UCI](https://archive.ics.uci.edu/ml/datasets/Movie)\n","- [Full MovieLens dataset on Kaggle](https://www.kaggle.com/rounakbanik/the-movies-dataset)\n","- [Cornell Film Review Data](http://www.cs.cornell.edu/people/pabo/movie-review-data/)\n","- [French National Cinema Center datasets](https://www.data.gouv.fr/fr/organizations/centre-national-du-cinema-et-de-l-image-animee/)\n","- [Movie Industry on Kaggle](https://www.kaggle.com/danielgrijalvas/movies)\n","- [Movie Body Counts](http://moviebodycounts.com/)\n","- [Movie datasets on data.world](https://data.world/datasets/movies)\n","\n","# Top Movie Recommendation System Use Cases\n","- [Netflix](https://www.netflix.com/)\n","- [Amazon](https://www.primevideo.com/)\n","- [YouTube](https://www.youtube.com/)\n","\n","##### Reference: [LabelYourData](https://labelyourdata.com/articles/movie-recommendation-with-machine-learning#introduction_to_the_movie_recommendation_system_architecture)\n","\n","# Important points of Movie Recommendation\n","\n","- Recommendation systems play an important role in e-commerce and online streaming services, such as Netflix, YouTube, and Amazon. Making the right recommendation for the next product, music or movie increases user retention and satisfaction, leading to sales and profit growth. Companies competing for customer loyalty invest in systems that capture and analyze the user’s preferences and offer products or services with a higher likelihood of purchase.\n","\n","- The economic impact of such a company-customer relationship is clear: Amazon is the largest online retail company by sales and part of its success comes from the recommendation system and marketing based on user preferences. In 2006 Netflix offered a one million dollar prize2 for the person or group that could improve their recommendation system by at least 10%.\n","\n","- Usually, recommendation systems are based on a rating scale from 1 to 5 grades or stars, with 1 indicating the lowest satisfaction and 5 being the highest satisfaction. Other indicators can also be used, such as comments posted on previously used items; video, music, or link shared with friends; percentage of movies watched or music listened; web pages visited and time spent on each page; product category; and any other interaction with the company’s web site or application can be used as a predictor.\n","\n","- The primary goal of recommendation systems is to help users find what they want based on their preferences and previous interactions and predict the rating for a new item. In this document, we create a movie recommendation system using the MovieLens dataset and apply the lessons learned during Harvard’s Data Science Professional Certificate3 program.\n","\n","- This document is structured as follows. Chapter 1 describes the dataset and summarizes the goal of the project and the key steps that were performed. In chapter 2 we explain the process and techniques used, such as data cleaning, data exploration, and visualization, any insights gained, and the modeling approach. In chapter 3 we present the modeling results and discuss the model performance. We conclude in chapter 4 with a brief summary of the report, its limitations, and future work.\n","\n","# MovieLens Dataset\n","- GroupLens is a research lab at the [University of Minnesota](https://twin-cities.umn.edu/) that has collected and made available rating data for movies on the [MovieLens website](https://grouplens.org/datasets/movielens/).\n","\n","- The complete MovieLens dataset consists of 27 million ratings of 58,000 movies by 280,000 users. The research presented in this paper is based on a subset of this dataset with 10 million ratings on 10,000 movies by 72,000 users.\n","\n","# Most common loss functions in ML\n","\n","- Mean Absolute Error/L1 Loss (MAE)\n","    - Mean absolute error, is measured as the average of the sum of absolute differences between predictions and actual observations. Like MSE, this as well measures the magnitude of error without considering their direction. Unlike MSE, MAE needs more complicated tools such as linear programming to compute the gradients. Plus MAE is more robust to outliers since it does not make use of squares.\n","    \n","    \n","- Mean Square Error/Quadratic Loss/L2 Loss (MSE)\n","    - Mean square error is measured as the average squared difference between predictions and actual observations. It’s only concerned with the average magnitude of error irrespective of their direction. However, due to squaring, predictions that are far away from actual values are penalized heavily in comparison to less deviated predictions. Plus MSE has nice mathematical properties which make it easier to calculate gradients.\n","    \n","    \n","- Root Mean Square Error (RMSE)\n","    - Root mean square error or root mean square deviation is one of the most commonly used measures for evaluating the quality of predictions. It shows how far predictions fall from measured true values using Euclidean distance.\n","    - To compute RMSE, calculate the residual (difference between prediction and truth) for each data point, compute the norm of residual for each data point, compute the mean of residuals, and take the square root of that mean. RMSE is commonly used in supervised learning applications, as RMSE uses and needs true measurements at each predicted data point."]},{"cell_type":"markdown","id":"c7b115b3","metadata":{"papermill":{"duration":0.006294,"end_time":"2023-02-11T10:03:51.958289","exception":false,"start_time":"2023-02-11T10:03:51.951995","status":"completed"},"tags":[]},"source":["# Data Preparation"]},{"cell_type":"markdown","id":"d78f66b0","metadata":{"papermill":{"duration":0.006066,"end_time":"2023-02-11T10:03:51.970408","exception":false,"start_time":"2023-02-11T10:03:51.964342","status":"completed"},"tags":[]},"source":["## Install Libraries"]},{"cell_type":"code","execution_count":1,"id":"46050975","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:03:51.987596Z","iopub.status.busy":"2023-02-11T10:03:51.985059Z","iopub.status.idle":"2023-02-11T10:03:55.725151Z","shell.execute_reply":"2023-02-11T10:03:55.723273Z"},"papermill":{"duration":3.75129,"end_time":"2023-02-11T10:03:55.727756","exception":false,"start_time":"2023-02-11T10:03:51.976466","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["Loading required package: ggplot2\n","\n","Loading required package: lattice\n","\n","\n","Attaching package: ‘caret’\n","\n","\n","The following object is masked from ‘package:httr’:\n","\n","    progress\n","\n","\n","\n","Attaching package: ‘dplyr’\n","\n","\n","The following objects are masked from ‘package:data.table’:\n","\n","    between, first, last\n","\n","\n","The following objects are masked from ‘package:stats’:\n","\n","    filter, lag\n","\n","\n","The following objects are masked from ‘package:base’:\n","\n","    intersect, setdiff, setequal, union\n","\n","\n","\n","Attaching package: ‘ggthemes’\n","\n","\n","The following object is masked from ‘package:cowplot’:\n","\n","    theme_map\n","\n","\n","Loading required package: timechange\n","\n","\n","Attaching package: ‘lubridate’\n","\n","\n","The following objects are masked from ‘package:data.table’:\n","\n","    hour, isoweek, mday, minute, month, quarter, second, wday, week,\n","    yday, year\n","\n","\n","The following object is masked from ‘package:cowplot’:\n","\n","    stamp\n","\n","\n","The following objects are masked from ‘package:base’:\n","\n","    date, intersect, setdiff, union\n","\n","\n","\n","Attaching package: ‘Metrics’\n","\n","\n","The following objects are masked from ‘package:caret’:\n","\n","    precision, recall\n","\n","\n"]}],"source":["# if(!require(tidyverse)) \n","#   install.packages(\"tidyverse\", repos = \"http://cran.us.r-project.org\")\n","# if(!require(caret)) \n","#   install.packages(\"caret\", repos = \"http://cran.us.r-project.org\")\n","# if(!require(data.table)) \n","#   install.packages(\"data.table\", repos = \"http://cran.us.r-project.org\")\n","\n","# Loading the required libraries\n","library(caret)\n","library(cowplot)\n","library(data.table)\n","library(dplyr)\n","library(ggplot2)\n","library(ggthemes)\n","library(lubridate)\n","library(Metrics)\n","library(recosystem)\n","library(scales)\n","library(stringr)\n","library(tibble)\n","library(tidyr)"]},{"cell_type":"markdown","id":"b187fdcd","metadata":{"papermill":{"duration":0.007113,"end_time":"2023-02-11T10:03:55.742222","exception":false,"start_time":"2023-02-11T10:03:55.735109","status":"completed"},"tags":[]},"source":["## Read Dataset"]},{"cell_type":"code","execution_count":2,"id":"7b921102","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:03:55.789677Z","iopub.status.busy":"2023-02-11T10:03:55.75836Z","iopub.status.idle":"2023-02-11T10:06:27.850472Z","shell.execute_reply":"2023-02-11T10:06:27.848617Z"},"papermill":{"duration":152.103566,"end_time":"2023-02-11T10:06:27.852969","exception":false,"start_time":"2023-02-11T10:03:55.749403","status":"completed"},"tags":[]},"outputs":[],"source":["# MovieLens 10M dataset:\n","# https://grouplens.org/datasets/movielens/10m/\n","# http://files.grouplens.org/datasets/movielens/ml-10m.zip\n","\n","# The ratings.dat is imported into the workspace\n","ratings <- fread(text = gsub(\"::\", \"\\t\", \n","                 readLines(\"/kaggle/input/movielens-10m-dataset-latest-version/ml-10M100K/ratings.dat\")),\n","                 col.names = c(\"userId\", \"movieId\", \"rating\", \"timestamp\"))"]},{"cell_type":"code","execution_count":3,"id":"54c5435b","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:27.873987Z","iopub.status.busy":"2023-02-11T10:06:27.872437Z","iopub.status.idle":"2023-02-11T10:06:27.891706Z","shell.execute_reply":"2023-02-11T10:06:27.889976Z"},"papermill":{"duration":0.031063,"end_time":"2023-02-11T10:06:27.894387","exception":false,"start_time":"2023-02-11T10:06:27.863324","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<style>\n",".list-inline {list-style: none; margin:0; padding: 0}\n",".list-inline>li {display: inline-block}\n",".list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n","</style>\n","<ol class=list-inline><li>'data.table'</li><li>'data.frame'</li></ol>\n"],"text/latex":["\\begin{enumerate*}\n","\\item 'data.table'\n","\\item 'data.frame'\n","\\end{enumerate*}\n"],"text/markdown":["1. 'data.table'\n","2. 'data.frame'\n","\n","\n"],"text/plain":["[1] \"data.table\" \"data.frame\""]},"metadata":{},"output_type":"display_data"}],"source":["class(ratings)"]},{"cell_type":"code","execution_count":4,"id":"3e344337","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:27.914406Z","iopub.status.busy":"2023-02-11T10:06:27.912805Z","iopub.status.idle":"2023-02-11T10:06:27.9546Z","shell.execute_reply":"2023-02-11T10:06:27.952859Z"},"papermill":{"duration":0.053667,"end_time":"2023-02-11T10:06:27.957107","exception":false,"start_time":"2023-02-11T10:06:27.90344","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.table: 6 × 4</caption>\n","<thead>\n","\t<tr><th scope=col>userId</th><th scope=col>movieId</th><th scope=col>rating</th><th scope=col>timestamp</th></tr>\n","\t<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>1</td><td>122</td><td>5</td><td>838985046</td></tr>\n","\t<tr><td>1</td><td>185</td><td>5</td><td>838983525</td></tr>\n","\t<tr><td>1</td><td>231</td><td>5</td><td>838983392</td></tr>\n","\t<tr><td>1</td><td>292</td><td>5</td><td>838983421</td></tr>\n","\t<tr><td>1</td><td>316</td><td>5</td><td>838983392</td></tr>\n","\t<tr><td>1</td><td>329</td><td>5</td><td>838983392</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.table: 6 × 4\n","\\begin{tabular}{llll}\n"," userId & movieId & rating & timestamp\\\\\n"," <int> & <int> & <dbl> & <int>\\\\\n","\\hline\n","\t 1 & 122 & 5 & 838985046\\\\\n","\t 1 & 185 & 5 & 838983525\\\\\n","\t 1 & 231 & 5 & 838983392\\\\\n","\t 1 & 292 & 5 & 838983421\\\\\n","\t 1 & 316 & 5 & 838983392\\\\\n","\t 1 & 329 & 5 & 838983392\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.table: 6 × 4\n","\n","| userId &lt;int&gt; | movieId &lt;int&gt; | rating &lt;dbl&gt; | timestamp &lt;int&gt; |\n","|---|---|---|---|\n","| 1 | 122 | 5 | 838985046 |\n","| 1 | 185 | 5 | 838983525 |\n","| 1 | 231 | 5 | 838983392 |\n","| 1 | 292 | 5 | 838983421 |\n","| 1 | 316 | 5 | 838983392 |\n","| 1 | 329 | 5 | 838983392 |\n","\n"],"text/plain":["  userId movieId rating timestamp\n","1 1      122     5      838985046\n","2 1      185     5      838983525\n","3 1      231     5      838983392\n","4 1      292     5      838983421\n","5 1      316     5      838983392\n","6 1      329     5      838983392"]},"metadata":{},"output_type":"display_data"}],"source":["head(ratings)"]},{"cell_type":"code","execution_count":5,"id":"a81b30e2","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:27.975718Z","iopub.status.busy":"2023-02-11T10:06:27.974152Z","iopub.status.idle":"2023-02-11T10:06:28.052315Z","shell.execute_reply":"2023-02-11T10:06:28.05062Z"},"papermill":{"duration":0.089912,"end_time":"2023-02-11T10:06:28.054723","exception":false,"start_time":"2023-02-11T10:06:27.964811","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<style>\n",".list-inline {list-style: none; margin:0; padding: 0}\n",".list-inline>li {display: inline-block}\n",".list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n","</style>\n","<ol class=list-inline><li>'matrix'</li><li>'array'</li></ol>\n"],"text/latex":["\\begin{enumerate*}\n","\\item 'matrix'\n","\\item 'array'\n","\\end{enumerate*}\n"],"text/markdown":["1. 'matrix'\n","2. 'array'\n","\n","\n"],"text/plain":["[1] \"matrix\" \"array\" "]},"metadata":{},"output_type":"display_data"}],"source":["# The movies.dat is imported into the workspace\n","movies <- str_split_fixed(readLines(\"/kaggle/input/movielens-10m-dataset-latest-version/ml-10M100K/movies.dat\"), \"\\\\::\", 3)\n","colnames(movies) <- c(\"movieId\", \"title\", \"genres\")\n","class(movies)"]},{"cell_type":"code","execution_count":6,"id":"899415df","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:28.074168Z","iopub.status.busy":"2023-02-11T10:06:28.072654Z","iopub.status.idle":"2023-02-11T10:06:28.095758Z","shell.execute_reply":"2023-02-11T10:06:28.093963Z"},"papermill":{"duration":0.035472,"end_time":"2023-02-11T10:06:28.098239","exception":false,"start_time":"2023-02-11T10:06:28.062767","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A matrix: 6 × 3 of type chr</caption>\n","<thead>\n","\t<tr><th scope=col>movieId</th><th scope=col>title</th><th scope=col>genres</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>1</td><td>Toy Story (1995)                  </td><td>Adventure|Animation|Children|Comedy|Fantasy</td></tr>\n","\t<tr><td>2</td><td>Jumanji (1995)                    </td><td>Adventure|Children|Fantasy                 </td></tr>\n","\t<tr><td>3</td><td>Grumpier Old Men (1995)           </td><td>Comedy|Romance                             </td></tr>\n","\t<tr><td>4</td><td>Waiting to Exhale (1995)          </td><td>Comedy|Drama|Romance                       </td></tr>\n","\t<tr><td>5</td><td>Father of the Bride Part II (1995)</td><td>Comedy                                     </td></tr>\n","\t<tr><td>6</td><td>Heat (1995)                       </td><td>Action|Crime|Thriller                      </td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A matrix: 6 × 3 of type chr\n","\\begin{tabular}{lll}\n"," movieId & title & genres\\\\\n","\\hline\n","\t 1 & Toy Story (1995)                   & Adventure\\textbar{}Animation\\textbar{}Children\\textbar{}Comedy\\textbar{}Fantasy\\\\\n","\t 2 & Jumanji (1995)                     & Adventure\\textbar{}Children\\textbar{}Fantasy                 \\\\\n","\t 3 & Grumpier Old Men (1995)            & Comedy\\textbar{}Romance                             \\\\\n","\t 4 & Waiting to Exhale (1995)           & Comedy\\textbar{}Drama\\textbar{}Romance                       \\\\\n","\t 5 & Father of the Bride Part II (1995) & Comedy                                     \\\\\n","\t 6 & Heat (1995)                        & Action\\textbar{}Crime\\textbar{}Thriller                      \\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A matrix: 6 × 3 of type chr\n","\n","| movieId | title | genres |\n","|---|---|---|\n","| 1 | Toy Story (1995)                   | Adventure|Animation|Children|Comedy|Fantasy |\n","| 2 | Jumanji (1995)                     | Adventure|Children|Fantasy                  |\n","| 3 | Grumpier Old Men (1995)            | Comedy|Romance                              |\n","| 4 | Waiting to Exhale (1995)           | Comedy|Drama|Romance                        |\n","| 5 | Father of the Bride Part II (1995) | Comedy                                      |\n","| 6 | Heat (1995)                        | Action|Crime|Thriller                       |\n","\n"],"text/plain":["     movieId title                             \n","[1,] 1       Toy Story (1995)                  \n","[2,] 2       Jumanji (1995)                    \n","[3,] 3       Grumpier Old Men (1995)           \n","[4,] 4       Waiting to Exhale (1995)          \n","[5,] 5       Father of the Bride Part II (1995)\n","[6,] 6       Heat (1995)                       \n","     genres                                     \n","[1,] Adventure|Animation|Children|Comedy|Fantasy\n","[2,] Adventure|Children|Fantasy                 \n","[3,] Comedy|Romance                             \n","[4,] Comedy|Drama|Romance                       \n","[5,] Comedy                                     \n","[6,] Action|Crime|Thriller                      "]},"metadata":{},"output_type":"display_data"}],"source":["head(movies)"]},{"cell_type":"code","execution_count":7,"id":"5848cc61","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:28.119732Z","iopub.status.busy":"2023-02-11T10:06:28.118123Z","iopub.status.idle":"2023-02-11T10:06:28.152395Z","shell.execute_reply":"2023-02-11T10:06:28.150722Z"},"papermill":{"duration":0.047056,"end_time":"2023-02-11T10:06:28.154731","exception":false,"start_time":"2023-02-11T10:06:28.107675","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["'data.frame'"],"text/latex":["'data.frame'"],"text/markdown":["'data.frame'"],"text/plain":["[1] \"data.frame\""]},"metadata":{},"output_type":"display_data"}],"source":["# The movies object is converted into a dataframe\n","movies <- as.data.frame(movies) %>% mutate(movieId = as.numeric(movieId),\n","                                            title = as.character(title),\n","                                            genres = as.character(genres))\n","class(movies)"]},{"cell_type":"code","execution_count":8,"id":"09aff40b","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:28.175333Z","iopub.status.busy":"2023-02-11T10:06:28.173758Z","iopub.status.idle":"2023-02-11T10:06:28.199131Z","shell.execute_reply":"2023-02-11T10:06:28.197454Z"},"papermill":{"duration":0.038136,"end_time":"2023-02-11T10:06:28.201403","exception":false,"start_time":"2023-02-11T10:06:28.163267","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.frame: 6 × 3</caption>\n","<thead>\n","\t<tr><th></th><th scope=col>movieId</th><th scope=col>title</th><th scope=col>genres</th></tr>\n","\t<tr><th></th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><th scope=row>1</th><td>1</td><td>Toy Story (1995)                  </td><td>Adventure|Animation|Children|Comedy|Fantasy</td></tr>\n","\t<tr><th scope=row>2</th><td>2</td><td>Jumanji (1995)                    </td><td>Adventure|Children|Fantasy                 </td></tr>\n","\t<tr><th scope=row>3</th><td>3</td><td>Grumpier Old Men (1995)           </td><td>Comedy|Romance                             </td></tr>\n","\t<tr><th scope=row>4</th><td>4</td><td>Waiting to Exhale (1995)          </td><td>Comedy|Drama|Romance                       </td></tr>\n","\t<tr><th scope=row>5</th><td>5</td><td>Father of the Bride Part II (1995)</td><td>Comedy                                     </td></tr>\n","\t<tr><th scope=row>6</th><td>6</td><td>Heat (1995)                       </td><td>Action|Crime|Thriller                      </td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.frame: 6 × 3\n","\\begin{tabular}{r|lll}\n","  & movieId & title & genres\\\\\n","  & <dbl> & <chr> & <chr>\\\\\n","\\hline\n","\t1 & 1 & Toy Story (1995)                   & Adventure\\textbar{}Animation\\textbar{}Children\\textbar{}Comedy\\textbar{}Fantasy\\\\\n","\t2 & 2 & Jumanji (1995)                     & Adventure\\textbar{}Children\\textbar{}Fantasy                 \\\\\n","\t3 & 3 & Grumpier Old Men (1995)            & Comedy\\textbar{}Romance                             \\\\\n","\t4 & 4 & Waiting to Exhale (1995)           & Comedy\\textbar{}Drama\\textbar{}Romance                       \\\\\n","\t5 & 5 & Father of the Bride Part II (1995) & Comedy                                     \\\\\n","\t6 & 6 & Heat (1995)                        & Action\\textbar{}Crime\\textbar{}Thriller                      \\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.frame: 6 × 3\n","\n","| <!--/--> | movieId &lt;dbl&gt; | title &lt;chr&gt; | genres &lt;chr&gt; |\n","|---|---|---|---|\n","| 1 | 1 | Toy Story (1995)                   | Adventure|Animation|Children|Comedy|Fantasy |\n","| 2 | 2 | Jumanji (1995)                     | Adventure|Children|Fantasy                  |\n","| 3 | 3 | Grumpier Old Men (1995)            | Comedy|Romance                              |\n","| 4 | 4 | Waiting to Exhale (1995)           | Comedy|Drama|Romance                        |\n","| 5 | 5 | Father of the Bride Part II (1995) | Comedy                                      |\n","| 6 | 6 | Heat (1995)                        | Action|Crime|Thriller                       |\n","\n"],"text/plain":["  movieId title                             \n","1 1       Toy Story (1995)                  \n","2 2       Jumanji (1995)                    \n","3 3       Grumpier Old Men (1995)           \n","4 4       Waiting to Exhale (1995)          \n","5 5       Father of the Bride Part II (1995)\n","6 6       Heat (1995)                       \n","  genres                                     \n","1 Adventure|Animation|Children|Comedy|Fantasy\n","2 Adventure|Children|Fantasy                 \n","3 Comedy|Romance                             \n","4 Comedy|Drama|Romance                       \n","5 Comedy                                     \n","6 Action|Crime|Thriller                      "]},"metadata":{},"output_type":"display_data"}],"source":["head(movies)"]},{"cell_type":"code","execution_count":9,"id":"b652953f","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:28.221199Z","iopub.status.busy":"2023-02-11T10:06:28.21971Z","iopub.status.idle":"2023-02-11T10:06:33.590661Z","shell.execute_reply":"2023-02-11T10:06:33.588482Z"},"papermill":{"duration":5.383669,"end_time":"2023-02-11T10:06:33.593282","exception":false,"start_time":"2023-02-11T10:06:28.209613","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<style>\n",".list-inline {list-style: none; margin:0; padding: 0}\n",".list-inline>li {display: inline-block}\n",".list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n","</style>\n","<ol class=list-inline><li>'data.table'</li><li>'data.frame'</li></ol>\n"],"text/latex":["\\begin{enumerate*}\n","\\item 'data.table'\n","\\item 'data.frame'\n","\\end{enumerate*}\n"],"text/markdown":["1. 'data.table'\n","2. 'data.frame'\n","\n","\n"],"text/plain":["[1] \"data.table\" \"data.frame\""]},"metadata":{},"output_type":"display_data"}],"source":["# Ratings and movies dataframes are joined by \"movieId\"\n","movielens <- left_join(ratings, movies, by = \"movieId\")\n","class(movielens)"]},{"cell_type":"code","execution_count":10,"id":"ff257f63","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:33.613577Z","iopub.status.busy":"2023-02-11T10:06:33.612062Z","iopub.status.idle":"2023-02-11T10:06:33.640306Z","shell.execute_reply":"2023-02-11T10:06:33.638629Z"},"papermill":{"duration":0.040925,"end_time":"2023-02-11T10:06:33.642714","exception":false,"start_time":"2023-02-11T10:06:33.601789","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.table: 6 × 6</caption>\n","<thead>\n","\t<tr><th scope=col>userId</th><th scope=col>movieId</th><th scope=col>rating</th><th scope=col>timestamp</th><th scope=col>title</th><th scope=col>genres</th></tr>\n","\t<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>1</td><td>122</td><td>5</td><td>838985046</td><td>Boomerang (1992)             </td><td>Comedy|Romance               </td></tr>\n","\t<tr><td>1</td><td>185</td><td>5</td><td>838983525</td><td>Net, The (1995)              </td><td>Action|Crime|Thriller        </td></tr>\n","\t<tr><td>1</td><td>231</td><td>5</td><td>838983392</td><td><span style=white-space:pre-wrap>Dumb &amp; Dumber (1994)         </span></td><td><span style=white-space:pre-wrap>Comedy                       </span></td></tr>\n","\t<tr><td>1</td><td>292</td><td>5</td><td>838983421</td><td>Outbreak (1995)              </td><td>Action|Drama|Sci-Fi|Thriller </td></tr>\n","\t<tr><td>1</td><td>316</td><td>5</td><td>838983392</td><td>Stargate (1994)              </td><td>Action|Adventure|Sci-Fi      </td></tr>\n","\t<tr><td>1</td><td>329</td><td>5</td><td>838983392</td><td>Star Trek: Generations (1994)</td><td>Action|Adventure|Drama|Sci-Fi</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.table: 6 × 6\n","\\begin{tabular}{llllll}\n"," userId & movieId & rating & timestamp & title & genres\\\\\n"," <int> & <dbl> & <dbl> & <int> & <chr> & <chr>\\\\\n","\\hline\n","\t 1 & 122 & 5 & 838985046 & Boomerang (1992)              & Comedy\\textbar{}Romance               \\\\\n","\t 1 & 185 & 5 & 838983525 & Net, The (1995)               & Action\\textbar{}Crime\\textbar{}Thriller        \\\\\n","\t 1 & 231 & 5 & 838983392 & Dumb \\& Dumber (1994)          & Comedy                       \\\\\n","\t 1 & 292 & 5 & 838983421 & Outbreak (1995)               & Action\\textbar{}Drama\\textbar{}Sci-Fi\\textbar{}Thriller \\\\\n","\t 1 & 316 & 5 & 838983392 & Stargate (1994)               & Action\\textbar{}Adventure\\textbar{}Sci-Fi      \\\\\n","\t 1 & 329 & 5 & 838983392 & Star Trek: Generations (1994) & Action\\textbar{}Adventure\\textbar{}Drama\\textbar{}Sci-Fi\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.table: 6 × 6\n","\n","| userId &lt;int&gt; | movieId &lt;dbl&gt; | rating &lt;dbl&gt; | timestamp &lt;int&gt; | title &lt;chr&gt; | genres &lt;chr&gt; |\n","|---|---|---|---|---|---|\n","| 1 | 122 | 5 | 838985046 | Boomerang (1992)              | Comedy|Romance                |\n","| 1 | 185 | 5 | 838983525 | Net, The (1995)               | Action|Crime|Thriller         |\n","| 1 | 231 | 5 | 838983392 | Dumb &amp; Dumber (1994)          | Comedy                        |\n","| 1 | 292 | 5 | 838983421 | Outbreak (1995)               | Action|Drama|Sci-Fi|Thriller  |\n","| 1 | 316 | 5 | 838983392 | Stargate (1994)               | Action|Adventure|Sci-Fi       |\n","| 1 | 329 | 5 | 838983392 | Star Trek: Generations (1994) | Action|Adventure|Drama|Sci-Fi |\n","\n"],"text/plain":["  userId movieId rating timestamp title                        \n","1 1      122     5      838985046 Boomerang (1992)             \n","2 1      185     5      838983525 Net, The (1995)              \n","3 1      231     5      838983392 Dumb & Dumber (1994)         \n","4 1      292     5      838983421 Outbreak (1995)              \n","5 1      316     5      838983392 Stargate (1994)              \n","6 1      329     5      838983392 Star Trek: Generations (1994)\n","  genres                       \n","1 Comedy|Romance               \n","2 Action|Crime|Thriller        \n","3 Comedy                       \n","4 Action|Drama|Sci-Fi|Thriller \n","5 Action|Adventure|Sci-Fi      \n","6 Action|Adventure|Drama|Sci-Fi"]},"metadata":{},"output_type":"display_data"}],"source":["head(movielens)"]},{"cell_type":"markdown","id":"b29aea1f","metadata":{"papermill":{"duration":0.008873,"end_time":"2023-02-11T10:06:33.660479","exception":false,"start_time":"2023-02-11T10:06:33.651606","status":"completed"},"tags":[]},"source":["# Model evaluation"]},{"cell_type":"markdown","id":"3e1b43ac","metadata":{"papermill":{"duration":0.008874,"end_time":"2023-02-11T10:06:33.67887","exception":false,"start_time":"2023-02-11T10:06:33.669996","status":"completed"},"tags":[]},"source":["## The validation set"]},{"cell_type":"code","execution_count":11,"id":"e4b40cc9","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:33.699522Z","iopub.status.busy":"2023-02-11T10:06:33.697907Z","iopub.status.idle":"2023-02-11T10:06:34.677077Z","shell.execute_reply":"2023-02-11T10:06:34.675359Z"},"papermill":{"duration":0.991905,"end_time":"2023-02-11T10:06:34.679349","exception":false,"start_time":"2023-02-11T10:06:33.687444","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 3 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>Dataset</th><th scope=col>Number of ratings</th></tr>\n","\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>movielens  </td><td>10000054</td></tr>\n","\t<tr><td>working_set</td><td> 9000049</td></tr>\n","\t<tr><td>temp       </td><td> 1000005</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 3 × 2\n","\\begin{tabular}{ll}\n"," Dataset & Number of ratings\\\\\n"," <chr> & <int>\\\\\n","\\hline\n","\t movielens   & 10000054\\\\\n","\t working\\_set &  9000049\\\\\n","\t temp        &  1000005\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 3 × 2\n","\n","| Dataset &lt;chr&gt; | Number of ratings &lt;int&gt; |\n","|---|---|\n","| movielens   | 10000054 |\n","| working_set |  9000049 |\n","| temp        |  1000005 |\n","\n"],"text/plain":["  Dataset     Number of ratings\n","1 movielens   10000054         \n","2 working_set  9000049         \n","3 temp         1000005         "]},"metadata":{},"output_type":"display_data"}],"source":["# Using built-in R functions to create the working and validation sets\n","# set.seed(1, sample.kind=\"Rounding\") # if using R 3.5 or earlier, use `set.seed(1)`\n","set.seed(1)\n","validation_index <- sample(1:nrow(movielens), 0.1*nrow(movielens))\n","working_set <- movielens[-validation_index,]\n","temp <- movielens[validation_index,]\n","\n","tibble(Dataset = c(\"movielens\", \"working_set\", \"temp\"),\n","       \"Number of ratings\" = c(nrow(movielens), nrow(working_set), nrow(temp)))"]},{"cell_type":"code","execution_count":12,"id":"16bd7f77","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:34.700243Z","iopub.status.busy":"2023-02-11T10:06:34.698685Z","iopub.status.idle":"2023-02-11T10:06:34.710897Z","shell.execute_reply":"2023-02-11T10:06:34.709184Z"},"papermill":{"duration":0.025364,"end_time":"2023-02-11T10:06:34.713563","exception":false,"start_time":"2023-02-11T10:06:34.688199","status":"completed"},"tags":[]},"outputs":[],"source":["# # Do not run this code snippet, as it is only here for illustration purposes\n","# library(caret)\n","# createDataPartition(\n","#   y,\n","#   times = 1,\n","#   p = 0.5,\n","#   list = TRUE,\n","#   groups = min(5, length(y))\n","# )"]},{"cell_type":"code","execution_count":13,"id":"d28b78f8","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:34.73533Z","iopub.status.busy":"2023-02-11T10:06:34.733719Z","iopub.status.idle":"2023-02-11T10:06:39.280185Z","shell.execute_reply":"2023-02-11T10:06:39.278513Z"},"papermill":{"duration":4.560625,"end_time":"2023-02-11T10:06:39.283014","exception":false,"start_time":"2023-02-11T10:06:34.722389","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 3 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>Dataset</th><th scope=col>Number of ratings</th></tr>\n","\t<tr><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>movielens  </td><td>10000054</td></tr>\n","\t<tr><td>working_set</td><td> 9000047</td></tr>\n","\t<tr><td>temp       </td><td> 1000007</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 3 × 2\n","\\begin{tabular}{ll}\n"," Dataset & Number of ratings\\\\\n"," <chr> & <int>\\\\\n","\\hline\n","\t movielens   & 10000054\\\\\n","\t working\\_set &  9000047\\\\\n","\t temp        &  1000007\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 3 × 2\n","\n","| Dataset &lt;chr&gt; | Number of ratings &lt;int&gt; |\n","|---|---|\n","| movielens   | 10000054 |\n","| working_set |  9000047 |\n","| temp        |  1000007 |\n","\n"],"text/plain":["  Dataset     Number of ratings\n","1 movielens   10000054         \n","2 working_set  9000047         \n","3 temp         1000007         "]},"metadata":{},"output_type":"display_data"}],"source":["# Using createDataPartition to create the working and validation sets\n","# set.seed(1, sample.kind=\"Rounding\") # if using R 3.5 or earlier, use `set.seed(1)`\n","set.seed(1)\n","test_index <- createDataPartition(y = movielens$rating, times = 1, p = 0.1, list = FALSE)\n","working_set <- movielens[-test_index,]\n","temp <- movielens[test_index,]\n","\n","tibble(Dataset = c(\"movielens\", \"working_set\", \"temp\"),\n","       \"Number of ratings\" = c(nrow(movielens), nrow(working_set), nrow(temp)))"]},{"cell_type":"code","execution_count":14,"id":"69ef2547","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:39.305406Z","iopub.status.busy":"2023-02-11T10:06:39.303757Z","iopub.status.idle":"2023-02-11T10:06:40.085875Z","shell.execute_reply":"2023-02-11T10:06:40.083988Z"},"papermill":{"duration":0.795709,"end_time":"2023-02-11T10:06:40.088322","exception":false,"start_time":"2023-02-11T10:06:39.292613","status":"completed"},"tags":[]},"outputs":[],"source":["# Make sure userId and movieId in validation set are also in working_set set\n","validation <- temp %>% \n","      semi_join(working_set, by = \"movieId\") %>%\n","      semi_join(working_set, by = \"userId\")"]},{"cell_type":"code","execution_count":15,"id":"9e91a371","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:40.109591Z","iopub.status.busy":"2023-02-11T10:06:40.10801Z","iopub.status.idle":"2023-02-11T10:06:41.289966Z","shell.execute_reply":"2023-02-11T10:06:41.288195Z"},"papermill":{"duration":1.195365,"end_time":"2023-02-11T10:06:41.292656","exception":false,"start_time":"2023-02-11T10:06:40.097291","status":"completed"},"tags":[]},"outputs":[{"name":"stderr","output_type":"stream","text":["\u001b[1m\u001b[22mJoining, by = c(\"userId\", \"movieId\", \"rating\", \"timestamp\", \"title\", \"genres\")\n"]}],"source":["# Add rows removed from validation set back into working_set set\n","removed <- anti_join(temp, validation)\n","working_set <- rbind(working_set, removed)"]},{"cell_type":"markdown","id":"02c757b3","metadata":{"papermill":{"duration":0.009607,"end_time":"2023-02-11T10:06:41.311742","exception":false,"start_time":"2023-02-11T10:06:41.302135","status":"completed"},"tags":[]},"source":["# Data exploration"]},{"cell_type":"code","execution_count":16,"id":"4201473f","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:41.334405Z","iopub.status.busy":"2023-02-11T10:06:41.332931Z","iopub.status.idle":"2023-02-11T10:06:41.350511Z","shell.execute_reply":"2023-02-11T10:06:41.348714Z"},"papermill":{"duration":0.031579,"end_time":"2023-02-11T10:06:41.352986","exception":false,"start_time":"2023-02-11T10:06:41.321407","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<style>\n",".list-inline {list-style: none; margin:0; padding: 0}\n",".list-inline>li {display: inline-block}\n",".list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n","</style>\n","<ol class=list-inline><li>9000061</li><li>6</li></ol>\n"],"text/latex":["\\begin{enumerate*}\n","\\item 9000061\n","\\item 6\n","\\end{enumerate*}\n"],"text/markdown":["1. 9000061\n","2. 6\n","\n","\n"],"text/plain":["[1] 9000061       6"]},"metadata":{},"output_type":"display_data"}],"source":["dim(working_set)"]},{"cell_type":"code","execution_count":17,"id":"8a08ea52","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:41.375062Z","iopub.status.busy":"2023-02-11T10:06:41.373473Z","iopub.status.idle":"2023-02-11T10:06:41.390391Z","shell.execute_reply":"2023-02-11T10:06:41.388638Z"},"papermill":{"duration":0.030423,"end_time":"2023-02-11T10:06:41.392782","exception":false,"start_time":"2023-02-11T10:06:41.362359","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<style>\n",".list-inline {list-style: none; margin:0; padding: 0}\n",".list-inline>li {display: inline-block}\n",".list-inline>li:not(:last-child)::after {content: \"\\00b7\"; padding: 0 .5ex}\n","</style>\n","<ol class=list-inline><li>'data.table'</li><li>'data.frame'</li></ol>\n"],"text/latex":["\\begin{enumerate*}\n","\\item 'data.table'\n","\\item 'data.frame'\n","\\end{enumerate*}\n"],"text/markdown":["1. 'data.table'\n","2. 'data.frame'\n","\n","\n"],"text/plain":["[1] \"data.table\" \"data.frame\""]},"metadata":{},"output_type":"display_data"}],"source":["class(working_set)"]},{"cell_type":"code","execution_count":18,"id":"1af4354d","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:41.414541Z","iopub.status.busy":"2023-02-11T10:06:41.413097Z","iopub.status.idle":"2023-02-11T10:06:41.440772Z","shell.execute_reply":"2023-02-11T10:06:41.439123Z"},"papermill":{"duration":0.041135,"end_time":"2023-02-11T10:06:41.443261","exception":false,"start_time":"2023-02-11T10:06:41.402126","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["Classes ‘data.table’ and 'data.frame':\t9000061 obs. of  6 variables:\n"," $ userId   : int  1 1 1 1 1 ...\n"," $ movieId  : num  122 185 231 292 316 ...\n"," $ rating   : num  5 5 5 5 5 ...\n"," $ timestamp: int  838985046 838983525 838983392 838983421 838983392 ...\n"," $ title    : chr  \"Boomerang (1992)\" \"Net, The (1995)\" ...\n"," $ genres   : chr  \"Comedy|Romance\" \"Action|Crime|Thriller\" ...\n"," - attr(*, \".internal.selfref\")=<externalptr> \n"]}],"source":["str(working_set, vec.len = 2)"]},{"cell_type":"code","execution_count":19,"id":"da434ed2","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:41.465948Z","iopub.status.busy":"2023-02-11T10:06:41.464307Z","iopub.status.idle":"2023-02-11T10:06:41.491638Z","shell.execute_reply":"2023-02-11T10:06:41.489933Z"},"papermill":{"duration":0.041272,"end_time":"2023-02-11T10:06:41.494155","exception":false,"start_time":"2023-02-11T10:06:41.452883","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A data.table: 6 × 6</caption>\n","<thead>\n","\t<tr><th scope=col>userId</th><th scope=col>movieId</th><th scope=col>rating</th><th scope=col>timestamp</th><th scope=col>title</th><th scope=col>genres</th></tr>\n","\t<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>1</td><td>122</td><td>5</td><td>838985046</td><td>Boomerang (1992)             </td><td>Comedy|Romance               </td></tr>\n","\t<tr><td>1</td><td>185</td><td>5</td><td>838983525</td><td>Net, The (1995)              </td><td>Action|Crime|Thriller        </td></tr>\n","\t<tr><td>1</td><td>231</td><td>5</td><td>838983392</td><td><span style=white-space:pre-wrap>Dumb &amp; Dumber (1994)         </span></td><td><span style=white-space:pre-wrap>Comedy                       </span></td></tr>\n","\t<tr><td>1</td><td>292</td><td>5</td><td>838983421</td><td>Outbreak (1995)              </td><td>Action|Drama|Sci-Fi|Thriller </td></tr>\n","\t<tr><td>1</td><td>316</td><td>5</td><td>838983392</td><td>Stargate (1994)              </td><td>Action|Adventure|Sci-Fi      </td></tr>\n","\t<tr><td>1</td><td>329</td><td>5</td><td>838983392</td><td>Star Trek: Generations (1994)</td><td>Action|Adventure|Drama|Sci-Fi</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A data.table: 6 × 6\n","\\begin{tabular}{llllll}\n"," userId & movieId & rating & timestamp & title & genres\\\\\n"," <int> & <dbl> & <dbl> & <int> & <chr> & <chr>\\\\\n","\\hline\n","\t 1 & 122 & 5 & 838985046 & Boomerang (1992)              & Comedy\\textbar{}Romance               \\\\\n","\t 1 & 185 & 5 & 838983525 & Net, The (1995)               & Action\\textbar{}Crime\\textbar{}Thriller        \\\\\n","\t 1 & 231 & 5 & 838983392 & Dumb \\& Dumber (1994)          & Comedy                       \\\\\n","\t 1 & 292 & 5 & 838983421 & Outbreak (1995)               & Action\\textbar{}Drama\\textbar{}Sci-Fi\\textbar{}Thriller \\\\\n","\t 1 & 316 & 5 & 838983392 & Stargate (1994)               & Action\\textbar{}Adventure\\textbar{}Sci-Fi      \\\\\n","\t 1 & 329 & 5 & 838983392 & Star Trek: Generations (1994) & Action\\textbar{}Adventure\\textbar{}Drama\\textbar{}Sci-Fi\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A data.table: 6 × 6\n","\n","| userId &lt;int&gt; | movieId &lt;dbl&gt; | rating &lt;dbl&gt; | timestamp &lt;int&gt; | title &lt;chr&gt; | genres &lt;chr&gt; |\n","|---|---|---|---|---|---|\n","| 1 | 122 | 5 | 838985046 | Boomerang (1992)              | Comedy|Romance                |\n","| 1 | 185 | 5 | 838983525 | Net, The (1995)               | Action|Crime|Thriller         |\n","| 1 | 231 | 5 | 838983392 | Dumb &amp; Dumber (1994)          | Comedy                        |\n","| 1 | 292 | 5 | 838983421 | Outbreak (1995)               | Action|Drama|Sci-Fi|Thriller  |\n","| 1 | 316 | 5 | 838983392 | Stargate (1994)               | Action|Adventure|Sci-Fi       |\n","| 1 | 329 | 5 | 838983392 | Star Trek: Generations (1994) | Action|Adventure|Drama|Sci-Fi |\n","\n"],"text/plain":["  userId movieId rating timestamp title                        \n","1 1      122     5      838985046 Boomerang (1992)             \n","2 1      185     5      838983525 Net, The (1995)              \n","3 1      231     5      838983392 Dumb & Dumber (1994)         \n","4 1      292     5      838983421 Outbreak (1995)              \n","5 1      316     5      838983392 Stargate (1994)              \n","6 1      329     5      838983392 Star Trek: Generations (1994)\n","  genres                       \n","1 Comedy|Romance               \n","2 Action|Crime|Thriller        \n","3 Comedy                       \n","4 Action|Drama|Sci-Fi|Thriller \n","5 Action|Adventure|Sci-Fi      \n","6 Action|Adventure|Drama|Sci-Fi"]},"metadata":{},"output_type":"display_data"}],"source":["head(working_set)"]},{"cell_type":"code","execution_count":20,"id":"c8706a12","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:41.516996Z","iopub.status.busy":"2023-02-11T10:06:41.51547Z","iopub.status.idle":"2023-02-11T10:06:44.964264Z","shell.execute_reply":"2023-02-11T10:06:44.962516Z"},"papermill":{"duration":3.463466,"end_time":"2023-02-11T10:06:44.967486","exception":false,"start_time":"2023-02-11T10:06:41.50402","status":"completed"},"tags":[]},"outputs":[{"data":{"text/plain":["     userId         movieId          rating        timestamp        \n"," Min.   :    1   Min.   :    1   Min.   :0.500   Min.   :7.897e+08  \n"," 1st Qu.:18122   1st Qu.:  648   1st Qu.:3.000   1st Qu.:9.468e+08  \n"," Median :35743   Median : 1834   Median :4.000   Median :1.035e+09  \n"," Mean   :35869   Mean   : 4120   Mean   :3.512   Mean   :1.033e+09  \n"," 3rd Qu.:53602   3rd Qu.: 3624   3rd Qu.:4.000   3rd Qu.:1.127e+09  \n"," Max.   :71567   Max.   :65133   Max.   :5.000   Max.   :1.231e+09  \n","    title              genres         \n"," Length:9000061     Length:9000061    \n"," Class :character   Class :character  \n"," Mode  :character   Mode  :character  \n","                                      \n","                                      \n","                                      "]},"metadata":{},"output_type":"display_data"}],"source":["summary(working_set)"]},{"cell_type":"markdown","id":"ee29fdff","metadata":{"papermill":{"duration":0.009549,"end_time":"2023-02-11T10:06:44.986848","exception":false,"start_time":"2023-02-11T10:06:44.977299","status":"completed"},"tags":[]},"source":["## Ratings"]},{"cell_type":"code","execution_count":21,"id":"37aaf1b9","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:45.010063Z","iopub.status.busy":"2023-02-11T10:06:45.008517Z","iopub.status.idle":"2023-02-11T10:06:45.304492Z","shell.execute_reply":"2023-02-11T10:06:45.302185Z"},"papermill":{"duration":0.311047,"end_time":"2023-02-11T10:06:45.307626","exception":false,"start_time":"2023-02-11T10:06:44.996579","status":"completed"},"tags":[]},"outputs":[{"data":{"text/html":["<table class=\"dataframe\">\n","<caption>A tibble: 10 × 2</caption>\n","<thead>\n","\t<tr><th scope=col>rating</th><th scope=col>count</th></tr>\n","\t<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th></tr>\n","</thead>\n","<tbody>\n","\t<tr><td>0.5</td><td>  85420</td></tr>\n","\t<tr><td>1.0</td><td> 345935</td></tr>\n","\t<tr><td>1.5</td><td> 106379</td></tr>\n","\t<tr><td>2.0</td><td> 710998</td></tr>\n","\t<tr><td>2.5</td><td> 332783</td></tr>\n","\t<tr><td>3.0</td><td>2121638</td></tr>\n","\t<tr><td>3.5</td><td> 792037</td></tr>\n","\t<tr><td>4.0</td><td>2588021</td></tr>\n","\t<tr><td>4.5</td><td> 526309</td></tr>\n","\t<tr><td>5.0</td><td>1390541</td></tr>\n","</tbody>\n","</table>\n"],"text/latex":["A tibble: 10 × 2\n","\\begin{tabular}{ll}\n"," rating & count\\\\\n"," <dbl> & <int>\\\\\n","\\hline\n","\t 0.5 &   85420\\\\\n","\t 1.0 &  345935\\\\\n","\t 1.5 &  106379\\\\\n","\t 2.0 &  710998\\\\\n","\t 2.5 &  332783\\\\\n","\t 3.0 & 2121638\\\\\n","\t 3.5 &  792037\\\\\n","\t 4.0 & 2588021\\\\\n","\t 4.5 &  526309\\\\\n","\t 5.0 & 1390541\\\\\n","\\end{tabular}\n"],"text/markdown":["\n","A tibble: 10 × 2\n","\n","| rating &lt;dbl&gt; | count &lt;int&gt; |\n","|---|---|\n","| 0.5 |   85420 |\n","| 1.0 |  345935 |\n","| 1.5 |  106379 |\n","| 2.0 |  710998 |\n","| 2.5 |  332783 |\n","| 3.0 | 2121638 |\n","| 3.5 |  792037 |\n","| 4.0 | 2588021 |\n","| 4.5 |  526309 |\n","| 5.0 | 1390541 |\n","\n"],"text/plain":["   rating count  \n","1  0.5      85420\n","2  1.0     345935\n","3  1.5     106379\n","4  2.0     710998\n","5  2.5     332783\n","6  3.0    2121638\n","7  3.5     792037\n","8  4.0    2588021\n","9  4.5     526309\n","10 5.0    1390541"]},"metadata":{},"output_type":"display_data"}],"source":["# Rating count\n","working_set %>%\n","  group_by(rating) %>%\n","  summarize(count = n())"]},{"cell_type":"code","execution_count":22,"id":"dc2794f2","metadata":{"execution":{"iopub.execute_input":"2023-02-11T10:06:45.331088Z","iopub.status.busy":"2023-02-11T10:06:45.329523Z","iopub.status.idle":"2023-02-11T10:06:46.12267Z","shell.execute_reply":"2023-02-11T10:06:46.120253Z"},"papermill":{"duration":0.807516,"end_time":"2023-02-11T10:06:46.125257","exception":false,"start_time":"2023-02-11T10:06:45.317741","status":"completed"},"tags":[]},"outputs":[{"data":{"image/png":"iVBORw0KGgoAAAANSUhEUgAAA0gAAANICAIAAAByhViMAAAABmJLR0QA/wD/AP+gvaeTAAAg\nAElEQVR4nOzdZ3xUZdrA4SeV0KQLCAg2FFl7711siC4WfMWOfdVV1+7asPde1i5YUFQQO2Jh\nWTu6uqCiCCioSO8JafN+CIaIQGbCxIEn1/XbDzNnzpm5OWbDn3NmzmSNnjQ1AACw6svO9AAA\nAKSHsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISw\nAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiE\nsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCI\nhLADAIiEsAMAiERupgdgZXTXNmvf/9Pc5ayQk1e/6eprbrbTvsecffbm7RrUxgzFc0ds1uXg\nitsN2/7t408ur41XSdVpf+nw3qyiPy7PzskraLRa6/Zrb7jF9vv3PmWXDVsuscLK8MdZ1gzT\nP/+/nbsPrbi91mGvvHzr1ivJYACkSthRE2UlhdN/GvPWM2PeeXHgZa+9c0jnpjV7nv/2PefJ\nyfMqbne7+s49mxWkb8Y/VXlZyYLZ08fPnj5+9Cev9rt7i0OveODmkwuys2rjtVbdnbbqTg6w\nqhB2rJCyhZOu+2uf/b98rn6NIubnYa+8OnZGxe11L7l1z2ZpHS5DEomyT5/950Fzcl9/qE9t\nPP+qu9NW3ckBVhXCjmqssU+fgzdsXmVBWeHsqcNfGDB25sKK+0Wz3uv75bRrN22V3tfNqdfx\n9HPOr7id3/jPPjmYjLWOOmO/VvUrbpcWzfnp25FvvzNyQVl5xZKJr1907bv7XbzrGhV3V4Y/\nzsoww1KttIMBrHKEHdVo2+3E0w5de4mFf7/ojCM33eF/84or7n7x2Lhwe7rDLr/Daeecl97n\nTK+OR51+2oYtqi6ZO+6dvx109KczFr0J7/kzL7roy8crjmSuDH+clWGGpVppBwNY5Qg7aiKn\noNNZ27XuM3Rixd25Y+ak+gzjH72m37ezfpw6v3LJ29df+mvDvE5HXHT0xs2Xs+HKrPHau93z\n8vXb73B2WSIRQiia8ep942aftnaTdD3/qrvTVt3JAVYtLndCDdVvufid7/Va16v6UNGUzx+7\n/pxj999pxw3X2qRj2y02WG/v3fY865zL3vhoYuU6k4cNHNDvsQ9mL6xcMuqFJwf0e+ztCYsa\nsXjuiK7tW1X8b+utrqxYOG/StZULd9z91RDCmFcfPOfw3XfdaO2N115z1+13Pe+ft4+ZXbzU\ngYt+/ezuy848utvWW6y37gH79Xri1a9DCJdv1qni2TZZb8e07JZGax559jqLP0ry2gPfLueP\nU6mscOKL9155cs89dt5onU07rrFVl/UP2Lf7JVfe9snY2VVXW/5O++POmfP10Mt677tb1w6n\n/3dqtTNUKi+d8dQN5x6646Zbrb3GDptvfuxJ/3j5Pz8usc7k9w6tfKqDrvhsiUdv2WqtykeH\nz15Y7eTVDlYyd9zTt192Uo+dd91k3U07td9hs00OPfTo2+59enJR6RJrrshPCEAEHLGjhj7/\neFrl7XV6rVV5+8fXrzvy1DtmlJRVLimdN+un72b99N0Xbz173zYn3vfI5Yeka4ZhfQ8584H3\nKu9O/XH0q4+Ofuv5QfeNeGPb5r9rzcnv3t3ruKun/jbV+C+H3Xjy2yMvHFzDT/Mu126ndr75\n3I8qbk95960Qtlr++rNGP3PMoeeOnbO4Nkrmzhj/vw/H/+/DwQ/fuu/ZD910drcajDHzy8cO\n7HFhxX+ILolktyormXLBXke++t2sirsLpkz85NXHP32t3+Bj73iwb68ajLHivhl0zSnn3j11\n4eKGmzX151lTf/7qg9ceu+OWv9/3/HG7d1zWtsn/hADEwRE7UpUomjvlvccvvG3cor/78xp2\nvWL3RR8RKJrx5mGn3F616pbw0YOn3jByaghhu/6fj5409aZ1F5+GO/Pj8aMnTX3swE5JzjF3\n4rVV/86uVDxn9Hm9H6y6ZN4PLxx67OKqW/THSCSGXX/w20u7KN0KarHdJpW3i2YMWf7KZUVj\njzn4nKpVV1WivOjVW3pfMGhCxd3kd1p56ayze126nP8Qy/LTaydVVt3iMRLl7z96xol3Lnlk\nLnk1/s898aXzDjnjjqpVV1Xp/B9uOXa7Bz6astRHk/8JAYiGI3ZUY+TZ23Q9e5mP5tRrf+Gz\nz7fJz6m4++WV/5xbuuhjoa13PvGSU3u0a9m4aNZP7/a74sGXFp2UfP3qTy94cd8VH6y0cExO\nbvO9e/fetMt6OfMnv93/rvfHLTqNO/N/V48vOmWtgoof7/IbDj13RumixGm05h59Tvpru7xp\n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\nf33q3jtsXW/uuH+/+K+XP1l0+d/s3MaXXrTo2sv12+wVwusVt4umv9j9sHpHH7RDk+wF4776\n4Jl+L5UsI9pSnXz9M+9s9sDeM0vLQgizvv7XfofM/NsxB3ZZr9WkUZ+9eN8N/5666KMVuQ26\n3HDAMr98AqBOEXbURFZOw6p355SVN8jJyWu8fY82DQdPXvRF7+/ce8E79/62fnZ+5VVOyhb+\nULlhi42ahm8XfWr1k/P32OSyepvdOiL5L59IRk69NR+6cq8eFy+qkFlfDbru3EGVj+ZnZ9X4\noNf4x26/c9mPdtz3hot3reZqI1nZDW48fcsjbvkwhJBIJIbe8Y+hdyxltSadTzqr8+LLdtT2\nTkskSkc8ddeIp5ZcvuPFg7b+7erE9Vsd2a3VpW/8llaTPnjm2g+e+e0Plde+XvZS37yY6uS5\nDTfuf2uv/c98suLu1E+eu/yT55ZYJys7/9Qnnmu+3GvKANQdfhtSE7kNN8qpcqRl4JhF31V/\nQf+rmucteZWNnIL25z7+VuXdounP3zp0UsXtDc47oyB78fOUFqX5A6oV1j26340nLuVU3RYn\nPdS9Rf20v1xWVs7WR1z74gPHJ7Pyxn9//rJjd85Z9mGrZl27P/bSFVX3aa3utNU67974D5GU\nlZWzy+kP33fSxlWW5VzxzNWVH26ouuY+l7y0d5UTtVXVYPJOf7392dv+9scfqgp5DTv94/H3\nT9m29VIfBaiDhB01kZPX9ugOjSvvPtjzoIobTTY4+tVhT//fAbu0bd44J7egVYcuB55w8cBP\nPzputy67/PaXfSKReOG6LytuN2zfe/AT1+2yRZfG9fNzcus1bbP2+q3SX1ohhP0vf/6VJ2/r\nscdWqzdvnJPfcI0Ndjj91lefuKxHup4/Kzu3oHHzTl232v+Yv98/dPSjN534xw8ZLGPL/MOv\nfv7d158548Qjttp0wxZNV6uXm5OT36B5m7W22v2g825/ethrj3RulFd1i1rdaS02PXfYe4P7\n/N+B67ZvXT8vt3HLdlvue9T1A0fee9GBS6y52vpHv/zuwOMP6bZWmxb1cnMbN2/9l10Pubz/\nhzefvOWynrxmk3c99PJh/x1+8dknbb/5Bi2brZabk79aizZdtt2nz8V3vfHFh8fu5iQswGJZ\noydNzfQMkDG9u7T7fG5xCKGg6V4jR/3h7CMArFK8x47Ije9/6gVPLbrgWfONL77/+t0qH5o9\n5t6KqgshNOzYPQPDAUBaCTsi12yLVqMvHFhxO2vUUTd0fbhPj50bls38cvizfc+/qXK1v16z\nV4YGBIC0cSqW+PX/247XDRqznBU2Pvbep69e8ptGAWCV48MTxK/3Xe/edUWfjk2X8gXwDdp2\nPemmF55SdQBEwRE76opE2fzRH78/evS3M2bPLs2q36R5m84bb7rlZl1yfVM8ALEQdgAAkXAq\nFgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACAS\nwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAg\nEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBK5mR4AAFYlQ/q3zPQI1ejee1qmRyBjHLEDAIiE\nsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCI\nhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMA\niISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLAD\nAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISw\nAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiE\nsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCI\nhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMA\niISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLAD\nAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISw\nAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiE\nsAMAiERupgcAIJ2G9G+Z6RGq0b33tEyPANFyxA4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIO\nACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLC\nDgAgEsIOACASwg4AIBLCDgAgEsIOACASdSjs5v84vO9ph+6+6XqbdGq/yw67XXP/kMLyxLJW\nLisc98Alpxy+26abdV734EOPe3nklJRWqHbzzL4cABClrNGTpmZ6hj9D0ZTXu2933OSyxnv0\n+r8uq2ePfnfgsM9+abXd2e88d3HWH1ZOlM05e6dNh/1Uunuv49ZvXvbu049/PavepW+PPHzt\nJsmsUO3mmX05IG5D+rfM9AjV6N57WqZHWCH2MCuzuhJ2Aw/sesXnM84fMuroTVuEEEKi9JkT\nt+77+sSj3hxz4YbNl1h5fP+eB1w4fN+7Prj54HVDCMVzPtlvswPnrXHyh/++IpkVqt08sy8H\nxE121DZ7mJVZXTkV+8TXMxu0OXFR1YUQsnIPuuHSEMJ/nvj+jysPuOOznPw2Vx64TsXd/NW2\n6tut/bwJ934ytziZFardPLMvBwDEqk6EXaK8KLRfa4Ot9626MDu3aQihbH7ZH1YuHDhlQaM1\nz2uYs/gk7Xp9uiYSiWcnzqt2hWo3z+zLAQARy830AH+GrOyCl975zxILvx9wawihy+Edl1he\nMu+jwrLyZp06VV1Yv+0WIbzy88hpYcPmy1+hpP3Py988sy+3fA3r5a1Wv15KmwCkqm3TRpke\nIXL28Kpo9oKFC4pLVvx56kTY/dHoQTcce80nDdv3uHr7Nks8VL5wcgihwZoNqy7MyWsbQlg4\nZWG1K1S7eWZfbvnq5eY0a1iQ6lYAKfF7prbZw6uiwuJSYVcTRZM/vf2Sf/R7Y3TjTnveP+Se\n+tl//FBsCCFk/X55IlEYQigvKU9yhWo3z+zLAQBRqhPvsftN4t8PXbTXdgc8OeynA8+67Y13\nn9y02VJOO2bXaxNCWPDj/KoLS4t+CCEUtC6odoVqN8/sywEAEaszR+wSpY+fuceNL3611u59\n7r7hn5u0bbCsFfMabVuQk7Vgwk9VF5bM/D6E0HrLFtWukNeo4/I3z+zLLV9hSem0uYWpbgWs\nZOpneoBqrPq/Z+xh0m9haWlanqeuhN2Y+3vd+OJX2/3t0QcvPGDpJ19/k5VdcNjqDZ/88ZaS\nRK+831ad0G9MCOGITqtVu0JWdv7yN8/syy1fYXFpYXF6frCAzFnZs2PKnPnVr7RSs4dZedWN\nU7HlRf+49f2Ga/T5V3VVV+Gwv29eVjThqiETKu6WLRzfd/CExp1O3bpxfjIrVLt5Zl8OAIhV\nnThiVzRj8LjCksbtJl153tlLPNRm93NO3bfD1I+P2e+o99rs1H/IQzuGEDoe/tA+92wx+Kx9\ns788aZOOBW89csvY4oLLHz23cqvlr1Dt5n/yywEAdUSdCLuFM/8dQpg79vWBY5d8aP3mx566\nb4dEedGC+fMLixZdrDg7t9kNQ99sf8mlLw24Y1BhTseNd7z65pt6rLf4q1eXv0K1m//JLwcA\n1BF15btiqzVv0rWHXrfba/dsF+XLAXWHbzKtbfYwK7O68R67JPzw9ofrdW8f68sBAHWBsAsh\nhFlfX9P/+wNv2PtPKq0/+eUAgDrCqViAqDhRWNvsYVZmjtgBAERC2AEARELYAQBEQtgBAERC\n2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBE\nQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEA\nRELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgB\nAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELY\nAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC\n2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBEQtgBAERC2AEARELYAQBE\nQtgBAEQitbB7+59nnXf6SUt5IFFy3t9Ovui829MzFAAAqctNZqXiGePHT14QQvjg1cGv/jq/\nz+lnLbHCgqmfvTroheychtfd9Pf0zwgAQBKSCrsfXzz1r5ePrLz71713Xepq2fXWTMtMAADU\nQDrfY9f5kCvT+GwAAKQkqSN2rbY95cIrp4QQPrit73uzii688polVsjKzmvdcZM9d988/QMC\nAJCcpMKuSdeDjuoaQgjNPntvwZT5R52wtM9PAACQUUmFXaUD7nnygFoaBACAFZNa2FX69ftR\nEyfPLE0klli+7Y47r/BIAADURMphVzrvywsPP+q1L35e6qOjJ01d4ZEAAKiJlMNuyPG9X/vi\nl9oYBQCAFZFy2N03cmoIoV7TzU86+//aN29YCyMBAFATKYfdgrJECGGnh584ZZvWtTAPAAA1\nlPIFio/o0DiEUL9pXi0MAwBAzaUcdsc8eV2HgtwPLnh4ftmSH4kFACCDUj4Ve8yJ9+Q2yZv2\n6Y07b/50pzZNlnj0+TfeSdNgAACkJuWw+2b0qIobRdMnfjN9YrrnAQCghlIOu/XW71IbcwAA\nsIJSDrtBw4bXxhwAAKyglMNu7LffLOfRdTtvsALDAABQcymHXY/dd1rOo75SDAAgU1K+3AkA\nACunlI/YnffPK5dYsnDmuEfv75dot/upRy/vYB4AALUq5bA79uTT/rhwt6ZfHnz1W583uOrY\nNIwEAEBNpOdUbNv9tgohjLjh8rQ8GwAANZCesJv45uchhOK576fl2QAAqIGUT8We3PvwJZYs\nnPPLyM+/CSHkNdwsPUMBAJC6lMNuxLtvL+uhjU9e8nMVAAD8aVIOu2bNmy+xJCsrp1GrTrv2\nPO0fp2ycpqkAAEhZ6kfsvhxTG3MAALCCXKAYACASKR+xqzB/4qcvvvDK6G9/WFBeb431Nt7r\nkKM2X7NReicDACAlNQm7zx46+8S+TxaVJX5bMLDf7df2vOKFK4/fKo2TAQCQkpRPxc4afcux\nVy6quqzs/PzsrBBCorzo+cu7P/jNzPQPCABAclIOu1fP/FdZIlGvyZZXPP72x+Mmfjb+hxf6\n37Zp03qJRNnjZwyqjREBAEhGymH31I9zQwgH9n/i0D02apCbnZVTf/1de9/1ZO8QwtwJD6Z/\nQAAAkpNy2P1aXBZC2Or3H5Vo0GHHEEJ58S/pGgsAgFSlHHYbN8wLITw1YHTVhWMHPhBCyGu0\nRbrGAgAgVSl/KvbEvdp9+Py4L67rfvy3p3XfdbPGYd7o4c8/MvCjEEKbPc+shQkBAEhKymG3\n5TX3bfB692/mF3808M6PBi5entdgw+uv2TadowEAkIqUT8XmNtq837Cn9926Y9WF7bbsfu+w\nVzZulJ++wQAASE1NLlDcoP3ON7/w6SU/jho95oeiRMEanTfZsFPLtE8GAEBKUjhiV/Trf+++\n5LSTjvtXxd1ma/5lx732v/3mmx57+JGRE+fXzngAACQr2SN2v/7n3kOOvGpGaVnDtq2rLh//\n1cjxX418rd+/Trn/7dP3WbMWJgQAIClJHbErmfdpr6OumlFaFkLIrldQ9WYKfH0AACAASURB\nVKEmeTkhhPLS2Q+c2u392QtrY0QAAJKRVNj978ozpxSXZWXl/PWf/Ya+d37Vh0Z8N+buS4/M\nzsoqK5l2zeWf1s6QAABUL6mwe+KNSSGEFltc1/fkfRrnZP1u+9wmu51y++XbtwkhTH77odoY\nEQCAZCQVdiPnFIcQ2vXYflkr7HBK5xBCyZz30zUWAACpSirs6mVnhRCKphQta4XiGQtDCCG7\nXpqmAgAgZUmF3a7N6oUQfuh/07yyxNIeL3/mtq9DCPWa7JHO0QAASEVSYXfYCRuGEIpmvtGj\n98X/+/l3l6wrnvX9/Wft/sSE2SGEtY46vjZGBAAgGUldx27dkx7b+oEtPp5eNPnfDx2xzeOd\n/rLFOmu2zc8umfHz+C/++3VhWXkIIX+1Le7424a1PC0AAMuUVNhl565+75uPn9bjhI8nzUsk\nSsb/78Px//vdCvVX3+r6Qc+2zc+plRkBAEhCsl8pVr/17g+P+Pi6S07bdIMOOVmLrniSlZXT\nZr3Njzz/tiEfDtlzzUa1NiQAANVL9ivFQgjZua0OPPXKA0+9smzezCkzZi5M5DVt3rpp4/za\nGw4AgOSlEHaVcho1a9uoWdpHAQBgRSR7KhYAgJWcsAMAiISwAwCIhLADAIiEsAMAiERNwi5R\nOvPjNweOmL0whPD509ed1uvgiy6+asTYOemeDQCAFKR8uZOy4onn7LnbW+Nm//Xfe24y7b6j\nzr8tkUiEESNeeWbgje9/uE+bBrUxJQAA1Ur5iN2o6458a9zsitv/veLxRCKRlV2wWm52WfEv\nN5z+crrHAwAgWSmH3SPPjw8hbHXJgAvXbPL4Z1NDCFvd9O4rL50UQpg5+l9pnw8AgCSlfCr2\nwznFIYTTe++YN3/EB7MXhhD+tl+H1XJ6hXB/6YJv0j8gAFCXDOnfMtMjVKN772mZHmGZUj5i\nlx+yQgizS8unfXRPCKGgxcFbNM4vL50WQsjOaZL2+QAASFLKR+z2b1m/3+R515x8bqcx/wkh\ntN27T3npzDfu7htCyG+6Z/oHBAAgOSkfsTvy0t1CCFPef/bj6UUhhAPO2KBwymMX3vtFCKFT\nr+PTPh8AAElKOew6HPTQtace0KpxflZWVtcDLz9lzdUqljdeZ/87z/5LuscDACBZKZ+KDSG7\nxyWP9rikbPa88iaN8kII+avtdNXdA/Y6YLfVcrPSPh8AAEmqQdiFEML37z758JMvj/1xcknD\n/xv4zAHfTZ64t6gDAMiomoTdoAv3vaT/pxW3G7WbFcoL+1190tB/f/tKvwsKfPcsAECGpBxi\nkwafUFF1ObmL3l0XsvJys7Mmv3fzmQPGpnc4AACSl3LYPXbVsBBC56Nv+s/Y7yqW5NTrNOiO\n7iGEz29+ML3DAQCQvJTD7uXphSGEGy49snHu4m07dr8+hFA0/YU0TgYAQEpSDrtGOdkhhJml\niaoLy4omhBCysuunaSoAAFKW+gWKOzQOIVxwwj8//nJcCCEkiqdP+uq+k08IITRoc1S6xwMA\nIFkph93B956em5019YNHjttvmxDCvJ/v2nnbXR5475esrKyetx1TCxMCAJCUlMOu6YZnPXfb\nWa3r/e46Kdk5DQ66eOB526yevsEAAEhNTa5j17nnJUP3Pebtl18f9e0P84uzWnbcYOf9D96w\njTfYAQBkUg2/eSKnQfu9DuuzV3pnAQBgBdTkmyLKCif2u/G80098vOLu62eedtcDz8woLU/r\nYAAApCblI3ZlhWNO3HHvj35d0KjduRVLpnz65v0vPPfkU28OfuvB1nk56Z4QAICkpHzE7qOL\njv7o1wUhhNbrrlGxpEXnNUIIc78fcso1I9M7HAAAyUs57O5/Y1IIYevLhrz05NEVS/Z/bPgT\nl+8UQvjhuZvTOxwAAMlLOexGLygNIRzac9OqC7v2PD6EUDLv43SNBQBAqlIOu04FuSGEEd/M\nrLpw1hevhRCy662ZrrEAAEhVyh+eOGGTFue9/8vLR3XLOqHPDput3yi7aNznbz3yr+dDCM3+\nckYtTAgAQFJSDrvd77m21dZ9phb/Mui+voOqLM/JbX7+vfuncTIAAFKS8qnYglYHvDj4nm07\nt6i6sHGnbS4bMHy/Ng3SNxgAAKmpyTdPNNu458NvHzzp65HffD+pqDyvdacNNt9o3ZystM8G\nAEAKaviVYiFkt++yVfsuW6VzFgAAVkANw+7X70dNnDyzNJFYYvm2O+68wiMBAFATKYdd6bwv\nLzz8qNe++Hmpj46eNHWFRwIAoCZSDrshx/d+7YtfamMUAABWRMphd9/IqSGEek03P+ns/2vf\nvGEtjAQAQE2kHHYLyhIhhJ0efuKUbVrXwjwAANRQytexO6JD4xBC/aZ5tTAMAAA1l3LYHfPk\ndR0Kcj+44OH5ZUt+JBYAgAxK+VTsMSfek9skb9qnN+68+dOd2jRZ4tHn33gnTYMBAJCalMPu\nm9GjKm4UTZ/4zfSJ6Z4HAIAaSjns1lu/S23MAQDACko57AYNG14bcwAAsIJS/vBEhe/ffeLi\nEw87rNvOB//1/rLiSdff/+Jcn6UAAMiomnxX7KAL972k/6cVtxu1mxXKC/tdfdLQf3/7Sr8L\nCmoYigAArKiUQ2zS4BMqqi4nd7VFi7LycrOzJr9385kDxqZ3OAAAkpdy2D121bAQQuejb/rP\n2O8qluTU6zToju4hhM9vfjC9wwEAkLyUw+7l6YUhhBsuPbJx7uJtO3a/PoRQNP2FNE4GAEBK\nUg67RjnZIYSZpb/7qERZ0YQQQlZ2/TRNBQBAylIOuyM7NA4hXHDCPz/+clwIISSKp0/66r6T\nTwghNGhzVLrHAwAgWSmH3cH3np6bnTX1g0eO22+bEMK8n+/aedtdHnjvl6ysrJ63HVMLEwIA\nkJSUw67phmc9d9tZrev97jop2TkNDrp44HnbrJ6+wQAASE1NrmPXueclQ/c95u2XXx/17Q/z\ni7Nadtxg5/0P3rCNN9gBAGRSymHXres6M0rLmm/44Bsv9tmrNiYCAKBGUv/wxLoFC+bPnzPt\np9qYBgCAGks57I7oP6DbxqvPm3jVq1/NqI2BAAComZRPxfY65IyQaJFd9s35+2x021rrrFaQ\nU/XR5994J32zAQCQgpTD7pvRoxbdShT//P3XP6d5HgAAaijlsFtv/S61MQcAACso5bAbNGx4\nbcwBAMAKSvnDEwAArJxSDrtuXdfZav1O3Q4eWhvTAABQY65jBwAQCdexAwCIhOvYAQBEwnXs\nAAAi4Tp2AACRcB07AIBIpBx2Y7/9ZjmPrtt5gxUYBgCAmks57HrsvtNyHh09aeoKDAMAQM35\n5gkAgEikfMTuvH9eucSShTPHPXp/v0S73U89enkH8wAAqFUph92xJ5/2x4W7Nf3y4Kvf+rzB\nVcemYSQAAGoiPadi2+63VQhhxA2Xp+XZAACogfSE3cQ3Pw8hFM99Py3PBgBADaR8Kvbk3ocv\nsWThnF9Gfv5NCCGv4WbpGQoAgNSlHHYj3n17WQ9tfPKSn6sAAOBPk3LYNWvefIklWVk5jVp1\n2rXnaf84ZeM0TQUAQMpSP2L35ZjamAMAgBXkAsUAAJGoSdiVFU7sd+N5p5/4eMXd18887a4H\nnplRWp7WwQAASE3Kp2LLCsecuOPeH/26oFG7cyuWTPn0zftfeO7Jp94c/NaDrfNy0j0hAABJ\nSfmI3UcXHf3RrwtCCK3XXaNiSYvOa4QQ5n4/5JRrRqZ3OAAAkpdy2N3/xqQQwtaXDXnpyaMr\nluz/2PAnLt8phPDDczendzgAAJKXctiNXlAaQji056ZVF3bteXwIoWTex+kaCwCAVKUcdp0K\nckMII76ZWXXhrC9eCyFk11szXWMBAJCqlD88ccImLc57/5eXj+qWdUKfHTZbv1F20bjP33rk\nX8+HEJr95YxamBAAgKSkHHa733Ntq637TC3+ZdB9fQdVWZ6T2/z8e/dP42QAAKQk5VOxBa0O\neHHwPdt2blF1YeNO21w2YPh+bRqkbzAAAFKT8hG7EEKzjXs+/PbBk74e+c33k4rK81p32mDz\njdbNyUr7bAAApKDG3zxxwXW3frXnAQcfcOAB0x+69d5/rUrfPDHqzsvueenH5a9TVjjugUtO\nOXy3TTfrvO7Bhx738sgpKa1Q7eaZfTkAIEoph11Z4ZgTd9zx+jsf+/TLXyqWTPn0zfv7nrHf\nHn1+LSlL93jpV17y6wV3PjT0s2nLWSdRNufcPfa8u/+rbbbuceIJvfK+e+uintsPGDc7yRWq\n3TyzLwcAxKouffNEomTSV+/fcny3CUUly19xwtPHDf1xbrfb377jhitPu+Dq/sNfaJ0z/7Zj\nbktyhWo3z+zLAQCxqivfPFFW+PU263TotnePx975qdqVB9zxWU5+mysPXKfibv5qW/Xt1n7e\nhHs/mVuczArVbp7ZlwMAYlVXvnkiO7/ddfc9etfDT9x290XLXzNRXjhwyoJGa57XsMrnQdbr\n0zWRSDw7cV61K1S7eWZfDgCIWMqfiu1UkPvN/OIR38zcb4e2lQtX/m+eyMpZbfdu+4YQiuc2\nXv6aJfM+Kiwrb9apU9WF9dtuEcIrP4+cFjZsvvwVStr/vPzNM/tyy9eoIL9pg3opbQKQqvbN\nq/k9zAqyh2tbbezhmfOL5i+s5q1iyfDNE0sqXzg5hNBgzYZVF+bktQ0hLJyysNoVqt08sy+3\nfPk52avVF3ZA7fJ7prbZw7WtNvbwvKKSEDIRdnXkmyeysn93Xb5EojCEUF5SnuQK1W6e2ZcD\nAKLkmyeWlF2vTQhhwY/zqy4sLfohhFDQuqDaFardPLMvBwBEzDdPLCmv0bYFOVkLJvzuw7Ml\nM78PIbTeskW1K+Q16rj8zTP7csu3oLh0ypz51a8HrNQaVr9KRq36v2fs4dpWF/dwYUlpWp6n\nJmEXQgghu32Xrdp32SotQ6xUsrILDlu94ZM/3lKS6JX3W61O6DcmhHBEp9WqXSErO3/5m2f2\n5ZavqKS0KE0/WEDmrOx/KU6bW5jpEVaQPVzb7OGaS+1U7PyJnz547XnH7rvjbpuut81GXQ/o\n1v2Ka27/74+xXVbjsL9vXlY04aohEyruli0c33fwhMadTt26cX4yK1S7eWZfDgCIVdJH7BKl\nr9126qW3Dy4qT1QumzdzyvjRHw584Oa9z7zjxnN75q6yZ2OnfnzMfke912an/kMe2jGE0PHw\nh/a5Z4vBZ+2b/eVJm3QseOuRW8YWF1z+6LmV6y9/hWo3/5NfDgCoI5INu9cu2+8fj35ecTsr\nK7dZq9YF2SXTpkwtLk8kyhe+cfspP84IA6/tWWtz1q5EedGC+fMLixZ91212brMbhr7Z/pJL\nXxpwx6DCnI4b73j1zTf1WK9J5frLX6Hazf/klwMA6ois0ZOmVrvS7G9u337Pa0IIeQ3XPfGK\nyw/vvkfLRnkhhLLCaf8Z/PiNl986fn5xCOGMoWNO6ZLaFXFXHvMmXXvodbu9ds92Ub4cUHcM\n6d8y0yNUo3vvaZkeYYXYw7XNHl4RSb3Hbvh5D4YQcnKb3zbsrdOP2Kei6kIIOfVb7tzr3GeH\nPdw0NyeE8NR5b9XeoLXth7c/XK97+1hfDgCoC5IKuye/mxVCaLPbPbu1X8oHVRq03+eGPduF\nEOaMfTi9w/1pZn19Tf/vD7xh7z+ptP7klwMA6oik3mP3fWFpCGH1vTota4UO+64RXv+xrHBM\nusb6kzXtcsl1V0b7cgBAHZHUEbvW+TkhhDlfz1rWCnO/mh1CyM5vm66xAABIVVJh1331BiGE\niQOvmF66lK8fLS+dccvT40II9Vutqp+KBQCIQFJht/8FO4YQiud+1PPwC0dPKar6UNHUUdcd\nscvHcxaGELY4T9gBAGRMUu+xa3/AA4fcudHAb2ZO/ejRw7d6uus2u26wTru8UPzr+NEffPDf\nwrLyEMJqnXvd0qNT7Q4LAMCyJXeB4ux6lw0ZUtrrr4NGTkmUFY16//VR7//u8eabHPrwc7cW\nZK+yXz0BALDqS/a7YnPqr3/1iyPvvu4fm3VeIytrccCtvu6WJ/V99I2X7uncIK92JgQAIClJ\nf1dsCFnZBbsddcFuR12wYOrEib9MLkzUb9mmU/vWjWpvOAAAkpdC2FVq0KrD+q06pH0UAABW\nRLKnYgEAWMkJOwCASAg7AIBICDsAgEgIOwCASAg7AIBICDsAgEgIOwCASAg7AIBICDsAgEgI\nOwCASAg7AIBICDsAgEgIOwCASAg7AIBICDsAgEgIOwCASAg7AIBICDsAgEgIOwCASAg7AIBI\nCDsAgEgIOwCASAg7AIBICDsAgEgIOwCASAg7AIBICDsAgEgIOwCASAg7AIBI5GZ6AADqtCH9\nW2Z6hGp07z0t0yNAshyxAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiE\nsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCI\nRG6mBwDqnCH9W2Z6hGp07z0t0yMA1IQjdgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQ\ndgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQdgAAkRB2AACR\nEHYAAJEQdgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQdgAA\nkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYAAJEQdgAAkRB2AACREHYA\nAJEQdgAAkRB2AACREHYAAJEQdgAAkcjN9AAAQC0a0r9lpkeoRvfe0zI9QjwcsQMAiISwAwCI\nhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMA\niISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLAD\nAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISw\nAwCIhLADAIiEsAMAiISwAwCIhLADAIiEsAMAiISwAwCIhLADAIhEbqYHgJXOkP4tMz1CNbr3\nnpbpEQBYGTliBwAQCWEHABAJp2IBquHsPLCqcMQOACASwg4AIBLCDgAgEsIOACASwg4AIBLC\nDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACAS\nwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAgEsIOACASwg4AIBLCDgAg\n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\ngg=="},"metadata":{"image/png":{"height":420,"width":420}},"output_type":"display_data"}],"source":["# Rating distribution plot\n","working_set %>%\n","  group_by(rating) %>%\n","  summarize(count = n()) %>%\n","  ggplot(aes(x = rating, y = count)) +\n","  geom_bar(stat = \"identity\", fill = \"#8888ff\") +\n","  ggtitle(\"Rating Distribution\") +\n","  xlab(\"Rating\") +\n","  ylab(\"Occurrences Count\") +\n","  scale_y_continuous(labels = comma) +\n","  scale_x_continuous(n.breaks = 10) +\n","  theme_economist() +\n","  theme(axis.title.x = element_text(vjust = -5, face = \"bold\"), \n","        axis.title.y = element_text(vjust = 10, face = \"bold\"), \n","        plot.margin = margin(0.7, 0.5, 1, 1.2, \"cm\"))"]},{"cell_type":"markdown","id":"e20286df","metadata":{"papermill":{"duration":0.010865,"end_time":"2023-02-11T10:06:46.147258","exception":false,"start_time":"2023-02-11T10:06:46.136393","status":"completed"},"tags":[]},"source":["- The graph confirms what was previously observed: rounded ratings occur more often than half-stared ones. The upwards trend previously discussed is now perfectly clear, although it seems to top right between the 3 and 4 star ratings lowering the occurrences count afterwards. That might be due to users being more hesitant to rate with the highest mark for whichever reasons they might hold."]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"codemirror_mode":"r","file_extension":".r","mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"4.0.5"},"papermill":{"default_parameters":{},"duration":178.157276,"end_time":"2023-02-11T10:06:46.380566","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2023-02-11T10:03:48.22329","version":"2.4.0"}},"nbformat":4,"nbformat_minor":5}